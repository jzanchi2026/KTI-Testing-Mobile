<?xml version="1.0" encoding="utf-8" ?>
<ContentPage 
    xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
    xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
    x:Class="MauiApp2.MauiLoginPage"
    Title="Login"
    Shell.NavBarIsVisible="False"
    BackgroundColor="#2B0000"
    Padding="0">

    <Grid>

        <!-- Background Image -->
        <Image 
            Source="loginbg.png"
            Aspect="AspectFill"
            ZIndex="-2"/>

        

        <!-- Safe Area Adjust for iOS -->
        <Grid
            RowDefinitions="Auto,*,Auto"
            Padding="10"
            Margin="0"
            BackgroundColor="Transparent"
            IgnoreSafeArea="False">
            
            <!-- Header -->
            <VerticalStackLayout Grid.Row="0" Margin="0,40,0,20" HorizontalOptions="Center">
                <Border
                    WidthRequest="140" HeightRequest="140"
                    StrokeThickness="0"
                    Shadow="5,5,10,Black">
                    <Image Source="applogo.png" Aspect="AspectFill"/>
                </Border>

            </VerticalStackLayout>

            <!-- Login Form Container -->
            <Border
                Grid.Row="1"
                Stroke="Transparent"
                BackgroundColor="#772B0303"
                StrokeShape="RoundRectangle 20"
                Padding="20"
                HorizontalOptions="Center"
                VerticalOptions="Center"
                WidthRequest="340">

                <!-- All Content Inside -->
                <VerticalStackLayout 
                    Spacing="20"
                    HorizontalOptions="Center"
                    VerticalOptions="Center">

                    <!-- Inner Content -->
                    <VerticalStackLayout 
                        Spacing="12"
                        HorizontalOptions="Center"
                        VerticalOptions="Center"
                        WidthRequest="300">

                        <Label 
                            Text="KEEFE TECH INVENTORY"
                            TextColor="White"
                            FontSize="28"
                            FontFamily="HighSchoolUsa.ttf"
                            FontAttributes="Bold"
                            HorizontalOptions="Center"
                            Margin="0,15,0,0"/>

                        <Label Text="SIGN IN"
                            FontAttributes="Bold"
                            FontSize="20"
                            TextColor="White"
                            HorizontalOptions="Center"
                            Margin="0,0,0,10"/>

                        <!-- Username -->
                        <Border 
                            Stroke="Transparent" 
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 10">
                            <Entry 
                                Placeholder="Enter your username..."
                                Text="{Binding UserName}"
                                PlaceholderColor="#CCCCCC"
                                TextColor="Black"
                                HeightRequest="45"
                                Margin="10,0"/>
                        </Border>

                        <!-- Password -->
                        <Border 
                            Stroke="Transparent" 
                            BackgroundColor="White"
                            StrokeShape="RoundRectangle 10">
                            <Entry 
                                Placeholder="Enter your password..."
                                Text="{Binding Password}"
                                IsPassword="True"
                                PlaceholderColor="#CCCCCC"
                                TextColor="Black"
                                HeightRequest="45"
                                Margin="10,0"/>
                        </Border>

                        <!-- Remember Me -->
                        <HorizontalStackLayout HorizontalOptions="Center" Spacing="3">
                            <CheckBox x:Name="RememberMeCheckbox"
                                    IsChecked="{Binding IsRememberMeChecked}"
                                    Color="#cc1321"/>
                            <Label Text="Remember Me" TextColor="White" VerticalTextAlignment="Center">
                                <Label.GestureRecognizers>
                                    <TapGestureRecognizer Tapped="OnRememberMeLabelTapped"/>
                                </Label.GestureRecognizers>
                            </Label>
                        </HorizontalStackLayout>

                        <!-- Buttons -->
                        <Button 
                            Text="Sign in"
                            Command="{Binding LoginCommand}"
                            BackgroundColor="#cc1321"
                            TextColor="White"
                            FontAttributes="Bold"
                            CornerRadius="25"
                            HeightRequest="45"
                            Margin="0,10,0,0"/>

                        <Button 
                            Text="Sign in with Google"
                            BackgroundColor="White"
                            TextColor="Black"
                            CornerRadius="25"
                            HeightRequest="45"
                            ImageSource="google_icon_placeholder.png"
                            ContentLayout="Left,10"
                            Margin="0,5,0,0"/>
                    </VerticalStackLayout>

                    <!-- Footer -->
                    <HorizontalStackLayout 
                        HorizontalOptions="Center"
                        VerticalOptions="End"
                        Spacing="20"
                        Margin="0,10,0,0">

                        <Button 
                            Text="Sign up"
                            BackgroundColor="Transparent"
                            BorderWidth="0"
                            FontAttributes="Bold"
                            FontSize="13"
                            TextColor="White"
                            HeightRequest="1"
                            Padding="0"
                            Margin="0"
                            HorizontalOptions="Center"
                            Clicked="toSignUpPage"/>

                        <Button 
                            Text="Forgot Password?"
                            BackgroundColor="Transparent"
                            BorderWidth="0"
                            FontAttributes="Bold"
                            FontSize="13"
                            TextColor="White"
                            HeightRequest="1"
                            Padding="0"
                            Margin="0"
                            HorizontalOptions="Center"/>

                    </HorizontalStackLayout>



                </VerticalStackLayout>
            </Border>

        </Grid>
    </Grid>
</ContentPage>
