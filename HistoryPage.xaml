<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="MauiApp2.HistoryPage"
             BackgroundColor="#2B0000"
             Padding="0"
             Title="History">

    <Shell.TitleView>
        <Grid Padding="10,0" BackgroundColor="Transparent">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="Auto"/>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>

            <HorizontalStackLayout Spacing="8" VerticalOptions="Center" Grid.Column="2">
                <!-- App Text -->
                <Label Text="HISTORY"
                    FontSize="18"
                    FontFamily="OpenSansRegular"
                    FontAttributes="Bold"
                    TextColor="White"
                    VerticalOptions="Center"/>
                
                <Label Text="KTI"
                    FontSize="22"
                    FontFamily="HighSchoolUsa"
                    FontAttributes="Bold"
                    TextColor="White"
                    VerticalOptions="Center"/>


                <ImageButton Source="applogo.png"
                            HeightRequest="24"
                            WidthRequest="24"
                            BackgroundColor="Transparent"
                            Clicked="ProfileButton_Clicked"/>
            </HorizontalStackLayout>
        </Grid>
    </Shell.TitleView>

    <Grid RowSpacing="0">

        <!-- Background image -->
        <Image Source="loginbg.png"
               Aspect="AspectFill"
               Opacity="0.55"
               Grid.RowSpan="2"/>

        <!-- Tool History List -->
        <CollectionView x:Name="historyList"
                          Margin="10"
                          SelectionMode="None">

              <CollectionView.ItemsLayout>
                  <GridItemsLayout Orientation="Vertical"
                                  Span="2"
                                  HorizontalItemSpacing="10"
                                  VerticalItemSpacing="10"/>
              </CollectionView.ItemsLayout>

              <CollectionView.ItemTemplate>
                <DataTemplate>
                    <Border Background="#FF999999"
                            Stroke="#FF6A6A6A"
                            StrokeThickness="2"
                            Margin="5"
                            Padding="12"
                            StrokeShape="RoundRectangle 16"
                            HeightRequest="270">

                        <Grid RowDefinitions="160,Auto,Auto,Auto"
                              RowSpacing="6">

                            <Grid Grid.Row="0"
                                HeightRequest="160"
                                WidthRequest="150"
                                Margin="5"
                                HorizontalOptions="Center">

                                <Border Background="White"
                                        Padding="10"
                                        StrokeShape="RoundRectangle 16">
                                    <Image Source="hammor.png"
                                        Aspect="AspectFill"
                                        BackgroundColor="White"
                                        HeightRequest="160"
                                        WidthRequest="150" />
                                </Border>
                            </Grid>

                            <!-- Tool name -->
                            <Label Grid.Row="1"
                                  Text="{Binding ToolName}"
                                  FontSize="18"
                                  FontAttributes="Bold"
                                  FontFamily="OpenSansSemiBold"
                                  TextColor="White"
                                  TextTransform="Uppercase"
                                  LineBreakMode="TailTruncation"
                                  MaxLines="1"/>

                            <!-- Checkout -->
                            <Label Grid.Row="2"
                                  Text="{Binding CheckoutText}"
                                  FontSize="13"
                                  FontFamily="OpenSansSemiBold"
                                  TextColor="#FFEEEEEE"
                                  LineBreakMode="WordWrap"/>

                            <!-- Return -->
                            <Label Grid.Row="3"
                                  Text="{Binding ReturnText}"
                                  FontSize="13"
                                  FontFamily="OpenSansSemiBold"
                                  TextColor="{Binding ReturnColor}"
                                  LineBreakMode="WordWrap"/>
                        </Grid>
                    </Border>
                </DataTemplate>
            </CollectionView.ItemTemplate>

          </CollectionView>

    </Grid>
</ContentPage>
